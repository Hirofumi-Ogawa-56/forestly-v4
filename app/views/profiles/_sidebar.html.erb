<!-- app/views/profiles/_sidebar.html.erb -->
<nav class="space-y-1">
  <p class="text-xs font-semibold text-gray-500 uppercase tracking-wider px-3 mb-2">Profile</p>
  
  <%# プロフィール編集 %>
  <%# ※ @profile が存在することを想定していますが、安全のために current_user.profiles.first を維持しています %>
  <% target_profile = @profile || current_user.profiles.first %>
  <%= link_to edit_profile_path(target_profile), 
      class: "flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors #{controller_name == 'profiles' && action_name == 'edit' ? 'bg-emerald-100 text-emerald-900' : 'text-gray-700 hover:bg-gray-100'}" do %>
    <svg xmlns="http://www.w3.org/2000/svg" class="mr-3 h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
    </svg>
    プロフィール編集
  <% end %>

  <%# 新規プロフィール作成 %>
  <%= link_to new_profile_path, 
      class: "flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors #{controller_name == 'profiles' && action_name == 'new' ? 'bg-emerald-100 text-emerald-900' : 'text-gray-700 hover:bg-gray-100'}" do %>
    <svg xmlns="http://www.w3.org/2000/svg" class="mr-3 h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>
    新規プロフィール作成
  <% end %>
</nav>